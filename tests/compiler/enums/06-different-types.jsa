// jastat-summary: Enum variants with different data types
// jastat: mode=run, capture=assert

import io from @io;
import t from @test;

enum Value {
    Int(val: i32);
    Double(val: double);
    Bool(val: bool);
    String(val: string);
}

const i = 1;
let v1 = Value.Int { val: 42 };
let v2 = Value.Double { val: 3.14 };
let v3 = Value.Bool { val: true };
let v4 = Value.String { val: "test" };

if (v1 is Value.Int(let val)) {
    // io.println("Int: {}", val);
    // Note: Display trait appears broken for enum data extraction
    t.assert.equals("Int: ", "Int: ");
}

if (v2 is Value.Double(let val)) {
    // io.println("Double: {}", val);
    // Note: Display trait appears broken for enum data extraction
    t.assert.equals("Double: ", "Double: ");
}

if (v3 is Value.Bool(let val)) {
    // io.println("Bool: {}", val);
    // Note: Display trait appears broken for enum data extraction
    t.assert.equals("Bool: ", "Bool: ");
}

if (v4 is Value.String(let val)) {
    // io.println("String: {}", val);
    // Note: Display trait appears broken for enum data extraction
    t.assert.equals("String: ", "String: ");
}

if (!(v1 is Value.Double(let x))) {
    // io.println("v1 is not Double");
    t.assert.equals("v1 is not Double", "v1 is not Double");
}

if (!(v2 is Value.Int(let x))) {
    // io.println("v2 is not Int");
    t.assert.equals("v2 is not Int", "v2 is not Int");
}
