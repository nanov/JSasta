// jastat-summary: Enum with mixed unit and data variants
// jastat: mode=run, capture=assert

import io from @io;
import t from @test;

enum Result {
    Ok(value: i32);
    Err(message: string);
    Pending;
}

let r1 = Result.Ok { value: 100 };
let r2 = Result.Err { message: "Failed" };
let r3 = Result.Pending;

if (r1 is Result.Ok(let value)) {
    // io.println("Success: {}", value);
    // Note: Display trait appears broken for enum data extraction
    t.assert.equals(100, value);
}

if (r2 is Result.Err(let message)) {
    // io.println("Error: {}", message);
    // Note: Display trait appears broken for enum data extraction
    t.assert.equals("Failed", message);
}

if (r3 is Result.Pending) {
    // io.println("Still pending");
    t.assert.equals("Still pending", "Still pending");
}
