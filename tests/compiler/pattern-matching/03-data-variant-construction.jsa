// Test enum variant construction with data fields
// jastat: mode=run, capture=assert

import io from @io;
import t from @test;

enum Message {
    quit;
    move(x: i32, y: i32);
}

let msg1 = Message.quit;
let msg2 = Message.move{x: 10, y: 20};

let branch1: i32 = 0;
if (msg1 is Message.quit) {
    // io.println("msg1 is quit");
    branch1 = 1;
}

t.assert.equals(1, branch1);

let branch2: i32 = 0;
if (msg2 is Message.quit) {
    // io.println("msg2 is quit");
    branch2 = 1;
} else {
    // io.println("msg2 is not quit");
    branch2 = 2;
}

t.assert.equals(2, branch2);
